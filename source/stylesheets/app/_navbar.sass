$navbarHeight: 54px
$navbarHideHeight: 80px
$navbarMenuZindex-xs: 1100
$navbarSecondaryZindex: 1000
$navbarToggleZindex-xs: 1200

=legacyCss
  .no-csstransforms &,
  .no-csstransforms3d &
    @content

=modernCss
  .csstransforms &,
  .csstransforms3d &
    @content


=navbarHide
  +translateY(-100%)
  +legacyCss
    margin-top: - $navbarHeight
    display: none

=navbarShow
  +translateY(0)
  +legacyCss
    margin-top: 0
    display: block

=navbarTransition
  +transition(transform 0.6s ease, opacity 0.6s ease, background 0.6s ease, border 0.6s ease)

=navbar-fixed-item-bg
  background: rgba(#fff, 0.95)

.navbar-transitions
  +navbarTransition
  +transformsFix

.navbar.application-navbar
  background: transparent
  @media screen and (max-width: $screen-sm)
    background: $navbarBackgroundColor
  &.navbar-white,
  .body-navbar-white &
    background: $navbarBackgroundColor
  border-bottom: 0
  +navbarTransition
  opacity: 1
  //overflow: hidden
  overflow: visible
  height: $navbarHeight
  &.transparent
    //opacity: 0
    +navbarHide

.navbar-toggle.app-nav-toggle
  border: 0
  display: block
  padding: 20px
  margin:
    top: 0
    left: -47px
    right: 0
  top: 0
  //right: 0
  right: inherit
  position: fixed
  z-index: $navbarToggleZindex-xs

  &, .icon-bar
    +transition(background-color 0.2s ease, transform 0.2s ease, opacity 0.2s ease)
  .icon-bar
    background-color: $textColor
  //&:hover
  &.app-nav-toggle-active
    background: $linkColor
    .icon-bar
      background-color: $white
      &:first-child
        +transform(translateY(6px) rotate(45deg))
      &:nth-child(2)
        opacity: 0
      &:last-child
        +transform(translateY(-6px) rotate(-45deg))

.navbar-brand-logo
  max-width: 120px
  max-height: 27px
  max-height: 27px
  padding: 12px 20px 15px 20px
  margin:
    left: -20px
    right: -20px
  +box-sizing(content-box)

.navbar-brand-logo-link
  //@media screen and (max-width: $screen-xs)
  display: block
  top: 0
  position: fixed
  z-index: $navbarToggleZindex-xs

.navbar-locale-btn-group
  //@media screen and (max-width: $screen-xs)
  display: block
  top: 0
  margin:
    left: 120px + $grid-gutter-width/2
    top: 14px
  +opacity(0.8)
  position: fixed
  z-index: $navbarToggleZindex-xs

.navbar-locale-btn
  +btn-outline(lighten($textColor,20%), none, #fff, lighten($textColor,20%))
  font-size: 12px
  letter-spacing: 0
  text-transform: none
  padding: 3px 7px
  min-width: 0


.app-nav
  +transformsFix
  +navbarHide
  margin:
    right: 19px
  position: fixed
  width: 100%
  height: 1000px
  top: 0
  left: 0
  padding-top: 3em
  +navbar-fixed-item-bg
  &.active
    +navbarShow
    //@media screen and (max-width: $screen-xs)
    height: 100%

  .app-nav-item
    @extend %large-header
    display: block
    +box-sizing(border-box)
    text-align: center
    padding:
      top: 0.7em
      bottom: 0.7em
    //font:
      weight: 300

.app-nav-item
  display: inline-block
  +link-colors($textColor, $linkColor)
  font:
    weight: 700
    size: $baseFontSize * 0.85
  -webkit-font-smoothing: antialiased
  +transition(color 0.2s ease, background 0.2s ease)
  background: none
  padding:
    top: 9px
    bottom: 10px
    left: 1em
    right: 1em
  &.active
    +link-colors($linkColor)
  //.app-nav.active &
    //@media screen and (max-width: $screen-xs)

.navbar.secondary-navbar
  +translateY($navbarHeight - 1px)
  +navbarTransition
  z-index: $navbarSecondaryZindex
  background: $navbarBackgroundColor
  border-bottom: 0
  line-height: 1.2em
  padding:
    top: 0.5em
    bottom: 0.5em
  @media screen and (max-width: $screen-md)
    display: none
  border-bottom: 1px solid $grayLightest
  &.secondary-navbar-top
    +translateY(0)
    border-bottom-color: rgba($linkColor, 0.2)

.app-secondary-nav-item
  @extend .app-nav-item
  font:
    size: round($compactTextFontSize / 1.3)
    weight: 900
  line-height: 1em
  text-transform: uppercase
  letter-spacing: 1px
  padding: 0 1.5em 0 0
  +link-colors(lighten($textColor, 30%), $linkColor)
  +transition(none)

//.navbar-fixed-item
  background: none
  //@media screen and (max-width: $screen-sm)
    +navbar-fixed-item-bg
  //.navbar-white &,
  //.body-navbar-white &,
  .services-page &,
  .contact-page &,
  .navbar-mobile-device &
    +navbar-fixed-item-bg

